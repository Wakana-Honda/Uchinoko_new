<div class="calendar mx-3">
<%= month_calendar events: @records do |date, records| %>
  
  <%= date.day %>

  <% @records.each do |record| %>
   <%if record.created_at.strftime('%Y-%m-%d') == date.strftime('%Y-%m-%d') %> 
    <div>
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong" data-record="<% record.created_at %>">
       <%= record.pet.name %>
      </button>
    </div>
   <% end %>
   
  <% end %>

<% end %>
</div>

<%= link_to "記録一覧に戻る",record_index_path, class:"btn btn-secondary" %>

<!--modal-->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       <%= render 'shared/modal_record' %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
$('#exampleModalLong').on('show.bs.modal', function (event) {
   console.log('test');
    var button = $(event.relatedTarget);
    var sampledata = button.data('record');
    var modal = $(this);
    console.log(sampledata);
    modal.find('.modal-title').val(sampledata);
  })
</script>